{"version":3,"sources":["../src/hook.tsx"],"sourcesContent":["import { useContext, useMemo, useState } from 'react';\nimport { Cookies } from './types';\nimport jsCookies from 'js-cookie';\nimport { Ctx } from './context';\n\nexport const useCookies = (): Cookies => {\n  const ctx = useContext(Ctx);\n  const [, refresh] = useState(0);\n\n  return useMemo((): Cookies => {\n    const org = typeof window === 'undefined' ? ctx : jsCookies;\n\n    if (!org) {\n      throw new Error('Missing <CookiesProvider>');\n    }\n\n    return {\n      get: org.get.bind(org),\n\n      set: (...args) => {\n        org.set(...args);\n        refresh((v) => v + 1);\n      },\n\n      remove: (...args) => {\n        org.remove(...args);\n        refresh((v) => v + 1);\n      },\n    };\n  }, [ctx]);\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAAA,mBAA8C;AAE9C,uBAAsB;AACtB,qBAAoB;AAEb,MAAMA,aAAa,6BAAA;AACxB,QAAMC,UAAMC,yBAAWC,kBAAAA;AACvB,QAAM,CAAA,EAAGC,OAAAA,QAAWC,uBAAS,CAAA;AAE7B,aAAOC,sBAAQ,MAAA;AACb,UAAMC,MAAM,OAAOC,WAAW,cAAcP,MAAMQ,iBAAAA;AAElD,QAAI,CAACF,KAAK;AACR,YAAM,IAAIG,MAAM,2BAAA;IAClB;AAEA,WAAO;MACLC,KAAKJ,IAAII,IAAIC,KAAKL,GAAAA;MAElBM,KAAK,IAAIC,SAAAA;AACPP,YAAIM,IAAG,GAAIC,IAAAA;AACXV,gBAAQ,CAACW,MAAMA,IAAI,CAAA;MACrB;MAEAC,QAAQ,IAAIF,SAAAA;AACVP,YAAIS,OAAM,GAAIF,IAAAA;AACdV,gBAAQ,CAACW,MAAMA,IAAI,CAAA;MACrB;IACF;EACF,GAAG;IAACd;GAAI;AACV,GAzB0B;","names":["useCookies","ctx","useContext","Ctx","refresh","useState","useMemo","org","window","jsCookies","Error","get","bind","set","args","v","remove"]}