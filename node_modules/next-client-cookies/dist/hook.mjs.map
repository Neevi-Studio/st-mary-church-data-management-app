{"version":3,"sources":["../src/hook.tsx"],"sourcesContent":["import { useContext, useMemo, useState } from 'react';\nimport { Cookies } from './types';\nimport jsCookies from 'js-cookie';\nimport { Ctx } from './context';\n\nexport const useCookies = (): Cookies => {\n  const ctx = useContext(Ctx);\n  const [, refresh] = useState(0);\n\n  return useMemo((): Cookies => {\n    const org = typeof window === 'undefined' ? ctx : jsCookies;\n\n    if (!org) {\n      throw new Error('Missing <CookiesProvider>');\n    }\n\n    return {\n      get: org.get.bind(org),\n\n      set: (...args) => {\n        org.set(...args);\n        refresh((v) => v + 1);\n      },\n\n      remove: (...args) => {\n        org.remove(...args);\n        refresh((v) => v + 1);\n      },\n    };\n  }, [ctx]);\n};\n"],"mappings":";;AAAA,SAASA,YAAYC,SAASC,gBAAgB;AAE9C,OAAOC,eAAe;AACtB,SAASC,WAAW;AAEb,MAAMC,aAAa,6BAAA;AACxB,QAAMC,MAAMN,WAAWI,GAAAA;AACvB,QAAM,CAAA,EAAGG,OAAAA,IAAWL,SAAS,CAAA;AAE7B,SAAOD,QAAQ,MAAA;AACb,UAAMO,MAAM,OAAOC,WAAW,cAAcH,MAAMH;AAElD,QAAI,CAACK,KAAK;AACR,YAAM,IAAIE,MAAM,2BAAA;IAClB;AAEA,WAAO;MACLC,KAAKH,IAAIG,IAAIC,KAAKJ,GAAAA;MAElBK,KAAK,IAAIC,SAAAA;AACPN,YAAIK,IAAG,GAAIC,IAAAA;AACXP,gBAAQ,CAACQ,MAAMA,IAAI,CAAA;MACrB;MAEAC,QAAQ,IAAIF,SAAAA;AACVN,YAAIQ,OAAM,GAAIF,IAAAA;AACdP,gBAAQ,CAACQ,MAAMA,IAAI,CAAA;MACrB;IACF;EACF,GAAG;IAACT;GAAI;AACV,GAzB0B;","names":["useContext","useMemo","useState","jsCookies","Ctx","useCookies","ctx","refresh","org","window","Error","get","bind","set","args","v","remove"]}